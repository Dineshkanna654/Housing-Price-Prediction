# California Housing Price Prediction

This project uses machine learning to predict housing prices in California based on various features, including geographic proximity to cities and population metrics. The model is built using the `XGBoost` algorithm and includes data preprocessing, feature engineering, and evaluation of model performance.

## Table of Contents

- [Overview](#overview)
- [Data](#data)
- [Installation](#installation)
- [Usage](#usage)
- [Project Structure](#project-structure)
- [Methodology](#methodology)
- [Visualization](#visualization)
- [Model Training and Evaluation](#model-training-and-evaluation)
- [Contributing](#contributing)
- [License](#license)

## Overview

This project aims to predict housing prices based on data from California, including features such as:
- Latitude and longitude of properties
- Proximity to the nearest city and major cities
- Population data for each city
- Median income of households in the area

The project uses `XGBoost` for regression, stratified data splitting, and geospatial calculations with `geopy`.

## Data

The following datasets are used in this project:
1. `housing.csv`: Main dataset containing features for each property in California.
2. `cal_cities_lat_long.csv`: Contains latitude and longitude of cities in California.
3. `cal_populations_city.csv`: Population data for each city.
4. `cal_populations_county.csv`: Population data for each county (not directly used but available for aggregation).

## Installation

1. Clone the repository:
    ```bash
    git clone https://github.com/yourusername/california-housing-prediction.git
    cd california-housing-prediction
    ```
2. Install dependencies:
    ```bash
    pip install -r requirements.txt
    ```
3. Ensure the data files (`housing.csv`, `cal_cities_lat_long.csv`, `cal_populations_city.csv`, `cal_populations_county.csv`) are in the project root directory.

## Usage

1. Run the Python script to execute data processing, model training, and evaluation:
    ```bash
    python housing_price_prediction.py
    ```

2. You can view various plots and visualizations generated by the script, which will appear during runtime.

## Project Structure

- `housing.csv` - Main housing dataset.
- `cal_cities_lat_long.csv` - Latitude and longitude data for California cities.
- `cal_populations_city.csv` - Population data for each city.
- `cal_populations_county.csv` - Population data for each county.
- `housing_price_prediction.py` - Main script that processes data, trains the model, and evaluates performance.

## Methodology

1. **Data Loading**: Loads and prepares housing, city coordinates, and population data.
2. **Data Cleaning and Feature Engineering**:
   - Calculates proximity to nearest cities using latitude and longitude.
   - Adds features related to population and geographic location.
   - Encodes categorical features and scales numerical ones.
3. **Visualization**:
   - Plots data points on a California map with markers for population and housing price.
   - Draws lines from each point to the closest city and big city.
4. **Model Training and Evaluation**:
   - Splits the data using stratified sampling based on income categories.
   - Trains the model using `XGBoost` with selected parameters.
   - Evaluates the model with RMSE on the test set.

## Visualization

The project includes a series of geographical visualizations:
- California map with housing data points.
- Connections to nearest cities and big cities.
- Color-coded population and housing prices.

## Model Training and Evaluation

- **Model**: The model is an `XGBoost` regressor with a mean baseline for the target value.
- **Evaluation Metric**: The final model is evaluated using Root Mean Squared Error (RMSE).
- **Parameters**: Adjusted parameters include learning rate, depth, and subsampling.

## Contributing

Feel free to submit issues or pull requests to improve this project. All contributions are welcome!

## License

This project is licensed under the MIT License - see the LICENSE file for details.
